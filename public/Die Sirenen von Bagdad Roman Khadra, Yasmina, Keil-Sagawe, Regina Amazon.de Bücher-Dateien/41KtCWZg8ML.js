'use strict';mix_d("TellAmazonDesktopCards__tell-amazon-desktop:tell-amazon-desktop__jJc56sh7","exports tslib @c/scoped-dom @c/aui-modal @c/browser-operations @c/remote-operations".split(" "),function(T,c,ea,fa,U,ha){function V(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var L=V(ea),ia=V(fa),C;(function(a){a.openTellAmazonModal="openTellAmazonModal";a.submitForm="submit"})(C||(C={}));var ja={displaySecondLevel:!1,displayAlert:!1,defaultAlert:"noPersonalInfoAlert",detailSection:{optional:!0,
display:!1,title:"comments"},firstLevel:{values:"problemWithOrder productInformationMissingInaccurateOrImproved partOfThisPageDontMatch issueWithPrice productContentOffensive productContentIllegalUnsafeSuspicious other".split(" "),title:"pleaseTellUsAboutTheIssue",prompt:"whatIsWrongWithThisPage",options:{problemWithOrder:{values:[],prompt:"",options:{default:{values:[],prompt:"",alert:"yourAccountAlert",submitButton:!1,details:{display:!1,optional:!0,title:"whatsTheIssue"}}}},productInformationMissingInaccurateOrImproved:{values:"images sizeDimensions releaseInformation modelEdition brand other".split(" "),
prompt:"whatInformationMissingImprovement",options:{images:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},sizeDimensions:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},releaseInformation:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},modelEdition:{values:[],prompt:"",alert:"noPersonalInfoAlert",
submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},brand:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},partOfThisPageDontMatch:{values:[],prompt:"",options:{default:{values:[],alert:"noPersonalInfoAlert",submitButton:!0,prompt:"whichPartsDontMatch",checkboxes:new Set("reviews images title bulletPoints brand other".split(" ")),
details:{display:!0,optional:!0,title:"comments"}}}},issueWithPrice:{values:"priceDisparity haveFoundLowerPrice discountCouponError higherShippingCosts pricesForUsedHigher other".split(" "),prompt:"whatsTheIssue",options:{priceDisparity:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},haveFoundLowerPrice:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},discountCouponError:{values:[],
prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},higherShippingCosts:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},pricesForUsedHigher:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},
productContentOffensive:{values:["sexuallyExplicitContent","other"],prompt:"whyIsItOffensive",options:{sexuallyExplicitContent:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}},other:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"comments"}}}},productContentIllegalUnsafeSuspicious:{values:["itsCounterfeit","usesMyIntellectualPropertyWithoutPermission","notSafeCompliantProductSafetyRegulations",
"reviewsQuestionsAnswersContainIllegal","productContentOtherwiseIllegal"],prompt:"whatsTheIssue",options:{itsCounterfeit:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}},usesMyIntellectualPropertyWithoutPermission:{values:[],prompt:"",alert:"goToPnfAlert",submitButton:!1,details:{display:!1,optional:!0,title:"comments"}},notSafeCompliantProductSafetyRegulations:{values:"haveInformationShowingItemNotSafe warningsDisclaimersMarkings missingProductAuthorization instructionsForUse contactDetails other".split(" "),
prompt:"whyIsntProductSafeCompliant",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}},reviewsQuestionsAnswersContainIllegal:{values:["productReviewFakeIllegal","userProfileInformationReviewsIllegalContent","customerQuestionsAnswersIllegalContent"],prompt:"whereIsIssue",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details",guideline:!0}},productContentOtherwiseIllegal:{values:["firearmIllegalWeapon",
"illegalDrugMedicine","containsProhibitedIngredientsSubstances","imageProductDescriptionContainsIllegalContent","other"],prompt:"whyIllegal",alert:"noPersonalInfoAlert",submitButton:!0,checkboxes:new Set(["goodFaith"]),details:{display:!0,optional:!1,title:"details"}}}},other:{values:[],prompt:"",options:{default:{values:[],prompt:"",alert:"noPersonalInfoAlert",submitButton:!0,details:{display:!0,optional:!0,title:"whatsTheIssue"}}}}}}},x=ha.setup(),M,W,y,X,G,r,N,u,O,z,H,Y,I,Q,R,v,Z,F,aa,q,A,l,J,
B={},ma=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,function(e){switch(e.label){case 0:return[4,x.checkIfUserHasEmail({})];case 1:return d=e.sent(),"true"!==d?[3,3]:[4,ka(a,b)];case 2:return e.sent(),[3,5];case 3:return[4,la(a,b)];case 4:e.sent(),e.label=5;case 5:return[2]}})})},la=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,function(e){switch(e.label){case 0:return[4,x.fetchCustomerNoEmailModalContent({})];
case 1:return d=e.sent(),[4,a.render(function(h){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){b&&(b.innerHTML="",b.append(d));return[2]})})})];case 2:return e.sent(),[2]}})})},ka=function(a,b){return c.__awaiter(void 0,void 0,void 0,function(){var d;return c.__generator(this,function(e){switch(e.label){case 0:return[4,x.fetchTellAmazonModalContent({})];case 1:return d=e.sent(),[4,a.render(function(h){return c.__awaiter(void 0,void 0,void 0,function(){var f,
g;return c.__generator(this,function(k){switch(k.label){case 0:if(!b)return[3,2];b.innerHTML="";b.append(d);return[4,na()];case 1:k.sent(),oa(h),f=U.setup(),f.define(C.submitForm,"submit",function(n){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(p){switch(p.label){case 0:return[4,pa(n)];case 1:return p.sent(),[2]}})})}),(g=h.querySelector("#tellAmazonModal_form"))&&f.attach(C.submitForm,g),M.style.display="block",k.label=2;case 2:return[2]}})})})];case 2:return e.sent(),
[2]}})})},na=function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(a){P.when("a-dropdown").execute(function(b){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:return y=b.getSelect("tellAmazon_firstLevelDropdown"),r=b.getSelect("tellAmazon_secondLevelDropdown"),u=b.getSelect("tellAmazon_thirdLevelDropdown"),[4,qa()];case 1:return d.sent(),[4,ra()];case 2:return d.sent(),[2]}})})});P.when("A").execute(function(b){return c.__awaiter(void 0,
void 0,void 0,function(){return c.__generator(this,function(d){b.on("a:dropdown:selected:tellAmazon_firstLevelDropdown",sa);b.on("a:dropdown:selected:tellAmazon_secondLevelDropdown",ba);b.on("a:dropdown:selected:tellAmazon_thirdLevelDropdown",ta);return[2]})})});return[2]})})},sa=function(a){return c.__awaiter(void 0,void 0,void 0,function(){var b,d,e;return c.__generator(this,function(h){switch(h.label){case 0:K(q.detailSection);G.style.display=q.displaySecondLevel?"block":"none";I.required=!1;N.style.display=
"none";F.style.display=q.displayAlert?"block":"none";J.style.display="inline-block";y.update({status:"normal"});r.update({status:"normal"});r.setValue("");r.removeOptions();u.setValue("");l=null;u.removeOptions();D(!1);ca();b=a.value;A=q.firstLevel.options[b];if(0!==A.values.length)return[3,2];l=null===(e=A.options)||void 0===e?void 0:e.default;return[4,ba()];case 1:return h.sent(),[2];case 2:return G.style.display="block",d=v[A.prompt],[4,S(r,A.values,d)];case 3:return h.sent(),[2]}})})},ba=function(a){return c.__awaiter(void 0,
void 0,void 0,function(){return c.__generator(this,function(b){switch(b.label){case 0:da();ca();a&&A.options&&(l=A.options[a.value]);if(!l)return[2];K(l.details);O.style.display="none";z.style.display="none";H.required=!1;return[4,ua(l)];case 1:b.sent();var d;if(l.checkboxes){b=l.checkboxes;z.style.display="block";var e=z.getElementsByTagName("p");try{for(var h=c.__values(Array.from(e)),f=h.next();!f.done;f=h.next()){var g=f.value;b.has(g.dataset.name)?g.style.display="block":g.style.display="none"}}catch(E){var k=
{error:E}}finally{try{f&&!f.done&&(d=h.return)&&d.call(h)}finally{if(k)throw k.error;}}H.checked=!1;H.required=b.has("goodFaith")?!0:!1}F.style.display="none";var n;if(l.alert){k=l.alert;F.style.display="block";try{for(var p=c.__values(Object.keys(B)),m=p.next();!m.done;m=p.next()){var w=m.value;B[w].style.display=w===k?"block":"none"}}catch(E){var t={error:E}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error;}}}J.style.display="none";l.submitButton&&(J.style.display="inline-block");
N.style.display=l.checkboxes||0<l.values.length?"block":"none";return[2]}})})},ta=function(a){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(b){da();l&&(K(l.details),!0===l.details.guideline&&a&&("productReviewFakeIllegal"===a.value||"userProfileInformationReviewsIllegalContent"===a.value?Q.style.display="block":"customerQuestionsAnswersIllegalContent"===a.value&&(R.style.display="block")));return[2]})})},ua=function(a){return c.__awaiter(void 0,void 0,void 0,
function(){var b;return c.__generator(this,function(d){switch(d.label){case 0:return b=a.prompt?v[a.prompt]:"",[4,S(u,a.values,b)];case 1:return d.sent(),0<a.values.length&&(u.update({status:"normal"}),O.style.display="block"),[2]}})})},ca=function(){var a,b,d=z.getElementsByTagName("input");try{for(var e=c.__values(Array.from(d)),h=e.next();!h.done;h=e.next()){var f=h.value;f.checked=!1}}catch(m){var g={error:m}}finally{try{h&&!h.done&&(a=e.return)&&a.call(e)}finally{if(g)throw g.error;}}z.style.display=
"none";g=z.getElementsByTagName("p");try{for(var k=c.__values(Array.from(g)),n=k.next();!n.done;n=k.next())f=n.value,f.style.display="none"}catch(m){var p={error:m}}finally{try{n&&!n.done&&(b=k.return)&&b.call(k)}finally{if(p)throw p.error;}}},pa=function(a){return c.__awaiter(void 0,void 0,void 0,function(){var b,d,e,h,f;return c.__generator(this,function(g){switch(g.label){case 0:a.event.preventDefault();b=L["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_desktop_div__1Loux")[0];
g=0<y.val().length;var k=!0,n=!0;0<r.getOptions().size()&&(k=0<r.val().length);g||y.update({status:"error"});g&&!k&&r.update({status:"error"});l&&0<l.values.length&&((n=0<u.val().length)||u.update({status:"error"}));if(!(g&&k&&n&&b.dataset.asin))return[3,5];var p;g=[];k={partsOfPage:g,tellAmazon_firstLevelDropdown:""};try{for(var m=c.__values(a.event.target),w=m.next();!w.done;w=m.next()){var t=w.value;t.checked?g.push(t.name):t.value&&0<t.value.length&&"on"!==t.value&&(k[t.name]=t.value)}}catch(va){var E=
{error:va}}finally{try{w&&!w.done&&(p=m.return)&&p.call(m)}finally{if(E)throw E.error;}}d=k;return[4,x.getTreatment({})];case 1:e=g.sent(),h={firstLevelValue:d.tellAmazon_firstLevelDropdown,secondLevelValue:d.tellAmazon_secondLevelDropdown||"",thirdLevelValue:d.tellAmazon_thirdLevelDropdown||"",checkboxes:d.partsOfPage,userComments:d.details||"",asin:b.dataset.asin,weblab:e.weblabName+":"+e.treatment},g.label=2;case 2:return g.trys.push([2,4,,5]),[4,x.sendDefectToHarmattan({formValues:h})];case 3:return(f=
g.sent())?(M.style.display="none",W.style.display="block",D(!1)):D(!0),[3,5];case 4:return g.sent(),D(!0),[3,5];case 5:return[2]}})})},da=function(){y.update({status:"normal"});r.update({status:"normal"});u.update({status:"normal"});D(!1)},D=function(a){Z.style.display=a?"block":"none"},oa=function(a){Y=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_label__1lDih")[0];I=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_text_area__3_n0I")[0];Q=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_guideline_review__le5bQ")[0];
R=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_guideline_question__23Tfu")[0];X=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_first_level_dropdown_label__36syI")[0];Z=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_try_again_message__1BEKR")[0];M=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_form_container__1MC8C")[0];W=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_thankyou_container__1Cu-y")[0];
G=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_second_level__1xVpa")[0];F=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert__14ANY")[0];N=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_third_level__3TdI4")[0];aa=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_details_section__OyMoa")[0];O=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_third_level_dropdown_container__3lTrD")[0];z=a.getElementsByClassName("_tell-amazon-desktop_style_tellAmazonThirdLevelCheckboxContainer__2kR7h")[0];
H=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_good_faith_checkbox__3neke")[0];B.noPersonalInfoAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_personal_info__3ZTTb")[0];B.yourAccountAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_your_account__2x7hR")[0];B.goToPnfAlert=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_alert_pnf__1mkcH")[0];J=a.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_submit_button__3vz6W")[0]},
ra=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a;return c.__generator(this,function(b){switch(b.label){case 0:return a=v[q.firstLevel.prompt],[4,S(y,q.firstLevel.values,a)];case 1:return b.sent(),[2]}})})},qa=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a,b,d,e,h,f;return c.__generator(this,function(g){switch(g.label){case 0:return[4,y.update({status:"normal"})];case 1:return g.sent(),[4,r.update({status:"disabled"})];case 2:return g.sent(),[4,u.update({status:"disabled"})];
case 3:g.sent();G.style.display=q.displaySecondLevel?"block":"none";F.style.display=q.displayAlert?"block":"none";try{for(a=c.__values(Object.keys(B)),b=a.next();!b.done;b=a.next())d=b.value,B[d].style.display=d===q.defaultAlert?"block":"none"}catch(k){h={error:k}}finally{try{b&&!b.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error;}}e=q.firstLevel.title;X.innerHTML=v[e];K(q.detailSection);D(!1);return[2]}})})},K=function(a){var b=v[a.title];b+=a.optional?" ("+v.optional+")":"";Y.innerHTML=
b;aa.style.display=a.display?"block":"none";I.required=!a.optional;I.value="";R.style.display="none";Q.style.display="none"},S=function(a,b,d){return c.__awaiter(void 0,void 0,void 0,function(){var e;return c.__generator(this,function(h){switch(h.label){case 0:return a.update({option_prompt:d}),a.removeOptions(),a.setValue(""),e=b.map(function(f){return{value:f,text:v[f]}}),[4,a.addOptions(e)];case 1:return h.sent(),[2]}})})};T._operationNames="sendDefectToHarmattan getStrings fetchTellAmazonModalContent fetchCustomerNoEmailModalContent getTreatment checkIfUserHasEmail".split(" ");
T.card=function(){return c.__awaiter(void 0,void 0,void 0,function(){var a,b,d,e;return c.__generator(this,function(h){if(a=L["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_desktop_link__3adsG")[0])b=L["default"].cardRoot.getElementsByClassName("_tell-amazon-desktop_style_tell_amazon_modal_end__30n3x")[0],d=ia["default"].create("tellAmazon-modal","._tell-amazon-desktop_style_tell_amazon_modal_root__1q10s.aok-hidden",{a11yOpenMessage:"Report an issue",closeButton:!1}),
e=U.setup(),e.define(C.openTellAmazonModal,"click",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){switch(f.label){case 0:return[4,x.getTreatment({})];case 1:return f.sent(),[4,x.getStrings({})];case 2:return v=f.sent(),q=ja,[4,d.show()];case 3:return f.sent(),[2]}})})}),e.attach(C.openTellAmazonModal,a),d.on("beforeShow",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){switch(f.label){case 0:return[4,
ma(d,b)];case 1:return[2,f.sent()]}})})}),d.on("afterHide",function(){return c.__awaiter(void 0,void 0,void 0,function(){return c.__generator(this,function(f){b.innerHTML="";return[2]})})});return[2]})})}});
