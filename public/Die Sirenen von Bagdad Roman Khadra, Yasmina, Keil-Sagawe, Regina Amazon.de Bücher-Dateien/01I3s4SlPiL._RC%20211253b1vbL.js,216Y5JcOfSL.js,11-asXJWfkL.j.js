(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(d){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):h;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,h,l){d.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(f,b){b="iconfarm-state-"+b;var e='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+f).find(e).html()}catch(m){console.log(m.message)}a?f=c.$.parseJSON(a):
(c.state.parse(),f=c.state(b));return f}}});d.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});d.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",AMAZON_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",AMAZON_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",PAYMENTS_AND_SECURITY:"iconfarm_ps",
PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",AMAZON_MANAGED_DELIVERY:"iconfarm_amd",AMAZON_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",DELIVERY_JP:"iconfarm_dl_jp",RETURN_POLICY_JP:"iconfarm_rp_jp",SMALL_BUSINESS_JP:"iconfarm_sb_jp",
DELIVERY_HIT:"iconfarm_dh",WARRANTY_HIT:"iconfarm_wh",RETURN_POLICY_HIT:"iconfarm_rph",CUSTOMER_SUPPORT:"iconfarm_cs",SERVICE:"iconfarm_serv",FREE_DELIVERY:"iconfarm_fd",TOP_BRAND:"iconfarm_tb"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",ABSENT:"_noavail"},NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3"},LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});d.when("A","iconfarm-return-policy-metric-logger",
"iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,f,b,e){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return f;case "PAY_ON_DELIVERY":return b;default:return e}}}});d.when("A","iconfarm-metrics-constants","get-icon-farm-page-state","iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,f,b,e){return{log:function(a,m,k,g){if(a&&m&&null!==k&&f.REF_MARKER_PREFIX[a]&&f.REF_MARKER_SUFFIX[m]){var d=
b.parseJSON(f.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+k,k);d?e.getIconMetric(a).log(a,m,k,c.$.extend(!0,{asin:d.asin,merchantId:d.merchantId,remoteAddress:d.remoteAddress,isInternal:d.isInternal,isRobot:d.isRobot,buyingOptionIndex:k},g)):console.warn("iconfarm state may not be available")}}}});d.when("A","ready").register("iconfarm-postmetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var f=h.ue;if(f){var b=f.count(c)||0;f.count(c,b+1)}}},postTimeMetric:function(c,f){if("undefined"!==
typeof c&&"undefined"!==typeof f){var b=h.ue;b&&b.count(c,f)}}}});d.when("A","ready").register("iconfarm-metric-cache",function(c){var f=[],b=function(a){if(!e(a))return!1;var b=!1;c.each(f,function(c,f){c.asin===a.asin&&c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&(b=!0)});return b},e=function(a){return a&&a.asin&&a.merchantId&&a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isPresent:b,add:function(a){return e(a)?b(a)?
!1:(f.push(a),!0):!1},reset:function(){f=[]}}});"use strict";d.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",function(c,f,b){return{log:function(e){if(f.add(e)){var a={};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=e.ref;a.pageAsin=e.asin;a.pageType=c.capabilities?c.capabilities.mobile?c.capabilities.isAmazonApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType="IconFarm";a.server=
h?h.ue_sn:"";a.merchantId=e.merchantId;a.remoteAddress=e.remoteAddress;a.isInternal=e.isInternal?1:0;a.isRobot=e.isRobot?1:0;var d={};d.buyingOptionIndex=e.buyingOptionIndex;e=JSON.stringify(d);a.additionalRequestData=e;if(e=h.ue)try{e.event&&e.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(k){e.count("NexusLoggerFailure",1)}}}}});d.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","ready").register("iconfarm-default-metric-logger",
function(c,f,b,e){return{log:function(a,d,k,g){k=JSON.parse(JSON.stringify(g));f.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[d],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));e.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[d])}}});d.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-return-policy-metric-logger",function(c,f,b,e,a){return{log:function(d,k,g,h){a:{if((g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+
"-"+g,g))&&g.RETURNS_POLICY&&g.RETURNS_POLICY.secondaryViewData&&g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:g="GENERIC_RETURN_POLICY";break a;case 1:g="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:g="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}g=void 0}d=g||d;h=JSON.parse(JSON.stringify(h));f.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[d]+b.REF_MARKER_SUFFIX[k],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));e.postCountMetric(b.REF_MARKER_PREFIX[d]+
b.REF_MARKER_SUFFIX[k])}}});d.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",function(c,d,b,e,a){return{log:function(h,k,g,l){g=(g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+g,g))&&g.PAY_ON_DELIVERY&&g.PAY_ON_DELIVERY.isEligible?g.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":"PAY_ON_DELIVERY_INACTIVE":void 0;h=g||h;l=JSON.parse(JSON.stringify(l));d.log(c.$.extend(!0,
l,{ref:b.REF_MARKER_PREFIX[h]+b.REF_MARKER_SUFFIX[k],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));e.postCountMetric(b.REF_MARKER_PREFIX[h]+b.REF_MARKER_SUFFIX[k])}}})});
/* ******** */
(function(e){var k=window.AmazonUIPageJS||window.P,g=k._namespace||k.attributeErrors,a=g?g("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):k;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,k,g){e.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,l,b,c,d,f){var h=function(b){var h=b.data("name");a.off("a:popover:beforeShow:"+
h);a.on("a:popover:beforeShow:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.ICON_CLICK,a);c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:"+h);a.on("a:popover:beforeHide:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)})};return{init:function(){for(var c=a.$(b.ICON_FARM_CONTAINER_CLASS),f=0;f<c.length;f++){var d=a.$(c[f]),e=d.data(b.TYPE_PARAM);if(e&&e===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var e=d,
g=a.$("#"+e.data(b.POPOVER_CONTENT_PARAM)),g={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:g.html(),name:e.data("name")};l.create(e,g);h(d)}}}}});e.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,e,b,c,d,f){a.declarative("returns-policy-url","click",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",
d.METRIC_TYPE.FULL_RETURN_POLICY,a);a=e.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);k.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:beforeShow:return-policy-secondary-view");a.on("a:popover:beforeShow:return-policy-secondary-view",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.ICON_CLICK,a);c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});e.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,l,b,c,d,f,h,g,k,q){function m(){g.reset();a.loadImageManually(a.$(".icon-box"));
b.init();c.init();q.init();for(var f=0;f<n;f++)r(f)}var n=k.getBuyingOptionCounts(),r=function(f){var b="#icon-farm-widget-"+f,c=a.$(b);c&&c.length?d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.GLANCE_VIEW,f):d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.ABSENT,f);(b=a.$(b+" .icon-container"))&&b.length&&b.each(function(){d.log(a.$(this).data("name"),h.METRIC_TYPE.GLANCE_VIEW,f)})};m();a.on("a:pageUpdate",function(){var b;a:{try{if(a.$("#"+f.ICON_FARM_V2_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_FEATURE_DIV;
break a}if(a.$("#"+f.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}d.log("ICON_FARM_WIDGET",h.PAGE_DATA_MISSING,0)}catch(c){e.log(c,"ERROR","DetailPageMobileIconFarm")}b=void 0}if(b){for(var g=0;g<n;g++)if(l.isNewState(b,f.ICON_FARM_STATE+"-"+g)){var p=l.processState(b,f.ICON_FARM_STATE+"-"+g);if(a.objectIsEmpty(p))return}m()}})});e.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",
ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){e.when("A",
"atf","ready").register("IconFarmPageStateParserService",function(a){function e(b,c){c='script[data-a-state\x3d"'+JSON.stringify({key:c})+'"]';return a.$("#"+b).find(c)}return{processState:function(b,c){var d;try{var f=e(b,c),h=f[0];d=f.html();var g=a.parseJSON(d);a.state(c,g);a.$.data(h,"state_processed",!0);return g}catch(k){console.log(k)}return a.state(c)},isNewState:function(b,c){try{return!a.$.data(e(b,c)[0],"state_processed")}catch(d){console.warn("Unable to determine state status",d)}return!1}}})})();
"use strict";e.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",function(a,e){return{getBuyingOptionCounts:function(){if(!a.$(e.selector.iconfarm).length)return 1;var b=a.$(e.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(e.selector.iconfarm).length){for(var b=b.children,c=0,d=0;d<b.length;d++)var f=a.$(b[d]).attr("data-buying-option-index"),c=Math.max(c,f);b=c}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(e.selector.iconfarm).length)return 0;
var c=a.$(e.selector.BUYBOX_ACCORDION_ACTIVE);c.length&&(b=c.index());return b}}});e.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,e,b){var c=b.getCurrentBuyingOptionIndex(),d=function(b){var d=a.$(e.selector.iconfarm);if(d.length){var k=d[0].children;k.length&&(d=k[c],b!==g&&b.selectedRow!==g&&b.selectedRow.$row!==g&&a.$(b.selectedRow.$row)!==g&&(b=a.$(b.selectedRow.$row).index(),b!==c&&(k=k[b],d.style.display="none",k.style.display=
"block",c=b)))}};return{init:function(){a.on("a:pageUpdate",d);a.on("PageRefresh:ATF",d);a.on("a:accordion:buybox-accordion:select",d)}}})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageSocialProofingAssets@common","DetailPageSocialProofing"):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.declare("socialProofingConstants",{socialProofingAUIState:"social-proofing-page-state-cache",socialProofingState:"social-proofing-page-state",socialProofingTriggeredAsinsState:"social-proofing-triggered-asins-page-state",socialProofingBadgeClass:".social-proofing-badge",
socialProofingFaceoutClass:".social-proofing-faceout",socialProofingBadgeWeblabDivId:"#social-proofing-badge-weblab-data",MOBILE_APP:"mobileApp",ATTRIBUTION:"SocialProofing"});"use strict";d.when("A","socialProofingConstants","socialProofingPageState","ready").register("socialProofingUtil",function(b,e,h){function k(b,a){f.ue&&f.ue.trigger?f.ue.trigger(b,a):d.log("Failed to get ue and ue.trigger for weblab: "+b+"and treatment: "+a,"WARN",e.ATTRIBUTION)}return{getAttributeFromPageState:function(c){var a=
b.state(e.socialProofingState);if(a)return a[c]},triggerWebLab:k,triggerWeblabsBySectionId:function(c){c=b.$(c);if(c.length){if(!h.isWeblabTriggered()&&(c=c[0])){c=c.dataset;for(var a in c)k(a.toString().toUpperCase(),c[a]);h.updateWeblabTriggeredToTrue()}}else b.state.replace(e.socialProofingTriggeredAsinsState,{})}}});"use strict";d.when("A","socialProofingConstants","ready").register("socialProofingPageState",function(b,e){function d(){var a=b.state(c);if(a)return a.asin}function f(){var a=b.state(e.socialProofingTriggeredAsinsState);
return a?!0===a.weblabTriggered:(b.state.replace(e.socialProofingTriggeredAsinsState,{weblabTriggered:!1}),!1)}var c=e.socialProofingState;return{reloadPageState:function(){b.each(b.$(".social-proofing-badge").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&(b.state.replace(c,a,!0),b.state.replace(e.socialProofingTriggeredAsinsState,{}))});b.each(b.$(".social-proofing-faceout").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===
c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&b.state.replace(c,a,!0)})},isMobileApp:function(){var a=b.state(c);if(a)return a.deviceType===e.MOBILE_APP},getAsin:d,getMerchantId:function(){var a=b.state(c);if(a)return a.merchantId},getRemoteAddress:function(){var a=b.state(c);if(a)return a.remoteAddress},getIsInternal:function(){var a=b.state(c);if(a)return a.isInternal},getIsRobot:function(){var a=b.state(c);if(a)return a.isRobot},getAvailableBadges:function(){var a=b.state(c);if(a)return a.availableBadges},
getAvailableFaceouts:function(){var a=b.state(c);if(a)return a.availableFaceouts},isWeblabTriggered:f,updateWeblabTriggeredToTrue:function(){var a=b.state(e.socialProofingTriggeredAsinsState);a&&!f()&&(a.weblabTriggered=!0,b.state.replace(e.socialProofingTriggeredAsinsState,a))}}})});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("DetailPageSocialProofingAssets@logger","DetailPageSocialProofing"):c;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,c,e){f.when("A","ready").register("socialProofingNexusLogger",function(d){function f(b){var a=c.ue;if(a)try{a.event&&a.event(b,b.producerId,b.schemaId)}catch(d){a.count("NexusLoggerFailure",1)}}var a={};return{createEvent:function(b){a.producerId=b.producerId;
a.schemaId=b.schemaId;a.pageAsin=b.pageAsin;a.pageType=b.pageType;a.subPageType=b.subPageType;a.merchantId=b.merchantId;a.remoteAddress=b.remoteAddress;a.isInternal=b.isInternal?1:0;a.isRobot=b.isRobot?1:0;a.server=c?c.ue_sn:""},logNexusEvent:function(b,c){if(0!==Object.keys(a).length){var e=JSON.parse(JSON.stringify(a));e.refMarker=b;d.objectIsEmpty(c)||Object.keys(c).forEach(function(a){e[a]=c[a]});f(e)}}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@badges","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingBadgeUtil",function(b,d){return{isSocialProofingBadgePresent:function(){return 0<b.$(d.socialProofingBadgeClass).length}}});"use strict";a.declare("socialProofingBadgeMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_badge_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingBadgeMetricConstants","socialProofingNexusLogger").register("socialProofingBadgeNexusLogger",function(b,d,a,c){return{createSocialProofingBadgeNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableBadges();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@faceouts","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingFaceoutUtil",function(b,d){return{isSocialProofingFaceoutPresent:function(){return 0<b.$(d.socialProofingFaceoutClass).length}}});"use strict";a.declare("socialProofingFaceoutMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_faceout_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingFaceoutMetricConstants","socialProofingNexusLogger").register("socialProofingFaceoutNexusLogger",function(b,d,a,c){return{createSocialProofingFaceoutNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableFaceouts();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("DetailPageSocialProofingAssets@desktop","DetailPageSocialProofing"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","socialProofingPageState","socialProofingBadgeNexusLogger","socialProofingFaceoutNexusLogger","socialProofingBadgeUtil","socialProofingFaceoutUtil","socialProofingUtil","socialProofingConstants","atf","ready").execute(function(c,b,a,e,d,
f,g,h){c.on("a:pageUpdate",function(){d.isSocialProofingBadgePresent()&&(b.reloadPageState(),a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);f.isSocialProofingFaceoutPresent()&&(b.reloadPageState(),e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())});d.isSocialProofingBadgePresent()&&(a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);
f.isSocialProofingFaceoutPresent()&&(e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(p){var h=window.AmazonUIPageJS||window.P,m=h._namespace||h.attributeErrors,B=m?m("SocialShareWidgetAUI","AmazonUI"):h;B.guardFatal?B.guardFatal(p)(B,window):B.execute(function(){p(B,window)})})(function(p,h,m){function B(e){if(Array.isArray(e)){for(var a=0,d=Array(e.length);a<e.length;a++)d[a]=e[a];return d}return Array.from(e)}"use strict";"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&
e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};p.register("SocialShareWidget",function(){return function(e){function a(f){if(d[f])return d[f].exports;var c=d[f]={i:f,l:!1,exports:{}};return e[f].call(c.exports,c,c.exports,a),c.l=!0,c.exports}var d={};return a.m=e,a.c=d,a.d=function(f,c,b){a.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:b})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,
"__esModule",{value:!0})},a.t=function(f,c){if((1&c&&(f=a(f)),8&c)||4&c&&"object"==("undefined"===typeof f?"undefined":X(f))&&f&&f.__esModule)return f;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),2&c&&"string"!=typeof f)for(var l in f)a.d(b,l,function(b){return f[b]}.bind(null,l));return b},a.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(c,"a",c),c},a.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,
c)},a.p="",a(a.s=6)}([function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var f,c=d(4);!function(b){b.Android="apan";b.IOS="apin";b.MWeb="mwn";b.Other="ud"}(f=a.Device||(a.Device={}));a.context=function(){var b=f.Other;(0,a.isMobileApp)()&&
(0,a.isAndroid)()?b=f.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?b=f.IOS:(0,a.isMobileWeb)()&&(b=f.MWeb);var g="unknown";return(0,a.isMobileApp)()?g="mshop":(0,a.isMobileWeb)()?g="mweb":(0,a.isDesktop)()&&(g="desktop"),{device:b,page:(0,a.isUeAvailable)()?h.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:g}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||b};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&
(0,c.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=function(){var b;return(0,c.isString)(null===(b=null===h||void 0===h?void 0:h.P)||void 0===b?void 0:b.AUI_BUILD_DATE)};a.isIE=function(){return(0,c.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,c.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,c.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};
a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,c.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,c.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,c.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(b){return b&&(0,c.isFunction)(b.share)};
a.isCSALoaded=function(){return(0,c.isFunction)(h.csa)};a.isSafari=function(){var b;return/apple/i.test(null===(b=h.navigator)||void 0===b?void 0:b.vendor)};var b=!1;(0,a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){b=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,
isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.defaultCustomizeShareCSAData=a.defaultShareDataAttributes=a.REGEX_TO_REF_ID_AND_CHANNEL_APP=a.SSF_AUI_PACKAGE_ATTRIBUTION=a.TRUE=a.FALSE=a.EMBED_CHANNEL_REF=a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.UNKNOWN=
a.CSA_DEFAULT_VALUE=a.customize=a.CSA_HIT_TYPE=void 0;e=a.CSA_HIT_TYPE||(a.CSA_HIT_TYPE={});e.CLICK_SUCCESS="click_success";e.CLICK_ERROR="click_error";e.CLICK_CANCEL="click_cancel";e.SHARE="share";e.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION=
"SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",
channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};
a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});var f=d(3);e=function(){function a(b,l,g){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new f.default(l,g)}return a.prototype.getUpdatedUrl=function(b){var a=new URL(this.raw);
return a.searchParams.set(this.REF_PARAM_NAME,b),a.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(b){try{new URL(b)}catch(l){return!1}return!0},a.getDefault=function(){var b,a,g=null===(b=null===h||void 0===h?void 0:h.location)||void 0===b?void 0:b.href;if(!g)return(null===(a=null===
h||void 0===h?void 0:h.ue)||void 0===a?0:a.sn)?"https://"+h.ue.sn:"https://amazon.com";b=new URL(g);a=b.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?h.location.origin+"/dp/"+h.ue_pti+a:(b.search=a,b.href)},a.prototype.getReturnForChannel=function(b){b=this._refMarker.getReturnForChannel(b);return this.getUpdatedUrl(b)},a.prototype.getClickForChannel=function(b){b=this._refMarker.getClickForChannel(b);return this.getUpdatedUrl(b)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},
enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=e},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});var f,c=d(0),b=d(1);!function(b){b.RETURN="r";b.CLICK="cl"}(f||(f={}));e=function(){function a(a,f){if(void 0===a&&(a="ur"),void 0===f&&(f=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:c.Device.Other,page:"",subPage:"",platform:b.UNKNOWN},
2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,c.context)();this.treatment=f;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(f.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(f.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(b){return this.PREFIX+"_"+f.RETURN+"_"+b+"_"+this.cxt.device+"_"+this.refId+
"_"+(this.treatment?this.treatment+"_":"")+this.id},a.prototype.getClickForChannel=function(b){return this.PREFIX+"_"+f.CLICK+"_"+b+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.generateUniqueId=function(){var b,a=null===(b=null===h||void 0===h?void 0:h.ue)||void 0===b?void 0:b.rid;return a||(a=(""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)).substring(0,13)),this.id=a},a.prototype.get=function(b){return this.PREFIX+"_"+b+"_"+this.cxt.device+"_"+this.refId+
"_"+(this.treatment?this.treatment+"_":"")+this.id},a}();a.default=e},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,c){void 0===a&&(a="");var b=Array(3).fill(".");
return a.length>c?a.substring(0,c-3)+b.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(c){return!1}};a.getCookie=function(a){a+="\x3d";for(var c=document.cookie.split(";"),b=0;b<c.length;b++){for(var l=c[b];" "==l.charAt(0);)l=l.substring(1);if(0==l.indexOf(a))return l.substring(a.length,l.length)}return""};a.getDPXObject=function(){var a,c;return null===(c=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===c?
void 0:c.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});var f=d(0),c=d(9),b=d(1);e=function(){function a(){}return a.logCountOnce=function(a){(0,f.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,b){var g=this;(0,f.isAUILoaded)()&&h.P.when("A").execute(function(c){c.trigger(g.BASE_METRIC_NAME+
":metrics:logged",{fullMetricName:a,callee:b})})},a.logCounter=function(a,b){a=this.BASE_METRIC_NAME+"."+a+(b?"."+b:"");this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?"."+b.toLowerCase():"";a=""+this.BASE_METRIC_NAME+b+"."+this.platform+this.metricName+"."+a.toLowerCase();this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a=this.BASE_METRIC_NAME+"."+this.platform+this.metricName+"."+a.toLowerCase();this.logCountOnce(a)},
a.logFatal=function(a){(0,f.isAUILoaded)()&&h.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,f.isCSALoaded)()&&(new c.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){this.timers[this.BASE_METRIC_NAME+"."+this.LATENCY+"."+a]=Date.now()},a.stopTimer=function(a){a=this.BASE_METRIC_NAME+"."+this.LATENCY+"."+a;var b=this.timers[a];(0,f.isUeAvailable)()&&b&&(h.ue.count(a,Date.now()-b),this.emitFullMetricName(a,"stopTimer"),delete this.timers[a])},
a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=b.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,c){var g;if(void 0===c&&(c=""),(0,f.isUeAvailable)()){var l=(0,f.context)();a.platform=l.platform;a.metricName=c?"."+c.toLowerCase():""}return(b=b('[data-action\x3d"ssf-share-icon"]').data())?(b=(null===(g=b.ssfShareIcon)||void 0===g?void 0:g.shareDataAttributes)||{},g=b.ingress,b=b.platform,((void 0===g?"unknown":g)+"."+(void 0===b?"unknown":b)+(c?"."+c:"")).toLowerCase()):
""},a}();a.default=e},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;e=d(7);var f=d(2),c=d(8),b=d(5),l=d(10),g=d(3),h=d(0);d=d(1);a.SocialShareCore={Channels:e.default,Url:f.default,Translations:c.default,Metrics:b.default,ShareSheet:l.default,RefMarker:g.default,Detection:h.default,Constants:d};a.default=a.SocialShareCore},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,c){var b={email:{label:"Email",name:"email",ref:"em",
shareBaseUrl:"mailto:",image:"https://m.media-amazon.com/images/G/01/share-icons/email-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/email-squared.svg",canOpenInPopup:!1,getSharingUrl:function(b){var g="?subject\x3d"+encodeURIComponent(a.emailSubject||a.title),c="\x26body\x3d"+encodeURIComponent(a.title);b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+g+c+" "+b}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",
image:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var g="\x26description\x3d"+encodeURIComponent(a.title),c="\x26media\x3d"+encodeURIComponent(a.image);return""+this.shareBaseUrl+b+g+c+"\x26method\x3dbutton"}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",
image:"https://m.media-amazon.com/images/G/01/share-icons/line-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/line-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var g="?text\x3d"+encodeURIComponent(a.text)+" "+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+g+b}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"https://m.media-amazon.com/images/G/01/share-icons/facebook-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/facebook-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)),"redirect_uri\x3d"+encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),"hashtag\x3d"+encodeURIComponent("#"+(a.hashtags[0]||"Amazon"))].join("\x26");return""+this.shareBaseUrl+b}},tw:{label:"Twitter",
name:"twitter",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"https://m.media-amazon.com/images/G/01/share-icons/twitter-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/twitter-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var g="?text\x3d"+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c="\x26hashtags\x3d"+a.hashtags.join(","),l="\x26via\x3d"+encodeURIComponent("Amazon");return""+
this.shareBaseUrl+g+b+c+l}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(a.text)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));
return""+this.shareBaseUrl+b}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"https://m.media-amazon.com/images/G/01/share-icons/sms-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/sms-squared.svg",canOpenInPopup:!1,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",
image:"https://m.media-amazon.com/images/G/01/share-icons/embed-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/embed-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/link-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/link-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==c?0:c.length){var l=
{};return c.forEach(function(a){b[a]&&(l[a]=b[a])}),l}return b}},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},function(e,a,d){Object.defineProperty(a,"__esModule",{value:!0});var f=d(0),c=d(1);e=function(){function a(){var b=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=b.getDateTimeByOffset(a);var c=b.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:c}};this.getMarketplaceId=function(a){return"string"==
typeof a?a:h.ue&&h.ue.mid?h.ue.mid:c.CSA_DEFAULT_VALUE.string};var g=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:c.CSA_DEFAULT_VALUE.number,hitDay:g.hitDay,hitDatetime:g.hitDatetime,hitDatetimeUtc:g.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:c.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:c.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:c.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;
if(this.csaMetricsData.customerId=b.customerId?b.customerId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=b.asin?b.asin:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),
this.csaMetricsData.channel=a.channel?a.channel:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=a.refererURL?a.refererURL:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=
b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===c.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,this.csaMetricsData.shareEntities=b),a.caf)&&(b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,
b.cafSwitchEnabled=a.cafSwitchEnabled?c.TRUE:c.FALSE,this.csaMetricsData.shareEntities=b);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||c.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(b){var c=new Date;0!==b&&(b*=a.MINUTES_TO_MILISECONDS,c=c.getTime()-b,c=new Date(c));return c.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,
f.isCSALoaded)()&&h.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=e},function(e,a,d){var f=this&&this.__assign||function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,
e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var c,b=d(5),l=d(0),g=d(2),m=d(4),n=d(1);(0,l.isAUILoaded)()&&h.P.when("mash").execute(function(a){return c=a});e=function(){function a(a){this.sheetOptions={title:n.EMPTY_STRING,text:n.EMPTY_STRING,shareUrl:new g.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:n.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:n.defaultCustomizeShareCSAData};this.sheetOptions=
f(f({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,c=this,d=this.sheetOptions.shareDataAttributes.ingress,e={channel:n.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},g=this.shareUrl.return;this.sheetOptions.tinyUrl&&(g=this.sheetOptions.tinyUrl,b.default.logCounter("MWeb.Tiny.Success"),
b.default.logCounterRefactor("Tiny.Success",d));var f=(0,m.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:g,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){f&&c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,e);b.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,e);(0,m.isFunction)(c.sheetOptions.incrementShareCount)&&c.sheetOptions.incrementShareCount(e.refMarker);
b.default.logCounterRefactor("ChannelClick",c.sheetOptions.shareDataAttributes.ingress)}).catch(function(){f&&c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,e);b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(v){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,e=this.shareUrl.refMarker.click,d=this.sheetOptions.shareDataAttributes,g=this.sheetOptions.refererURL,l=this.sheetOptions.customizeShareCSAData,
h=this.sheetOptions.shareDataAttributes.ingress,q=n.EMPTY_STRING,u=this.sheetOptions.caf||!1,x=this.sheetOptions.cafSwitchEnabled||!1,k=this.shareUrl.return,A=(0,m.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(k=this.sheetOptions.tinyUrl,b.default.logCounter("MShop.Tiny.Success"),b.default.logCounterRefactor("Tiny.Success",h));var p={channel:q,refMarker:e,refererURL:g,shareDataAttributes:d,customizeShareCSAData:l,caf:u,cafSwitchEnabled:x};d={messagePlain:this.getShareMessage,
messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:k,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==c||c.share(f(f({},d),{successCallback:function(){(0,m.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,p)},failCallback:function(){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,p)},shareServiceSelectedCallback:function(c){c&&
"'null'"!==c?((0,m.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),p.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,p.refMarker=a.shareUrl.refMarker.getClickForChannel(c),b.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,p),b.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),A&&a.sheetOptions.incrementShareCount(e)):("MSHOP_ANDROID"===a.sheetOptions.shareDataAttributes.platform&&A&&a.sheetOptions.incrementShareCount(e),
b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,p))}}))},a.prototype.launch=function(a){(0,l.isNativeAppShareAvailable)(c)?this.launchNativeApp():(0,l.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,m.isFunction)(a)?a():(b.default.logCounter("Click.ShareUnavailable"),b.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,
b=a.length+2;return(0,m.truncate)(this.sheetOptions.title,160-b)+" "+a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,m.truncate)(this.sheetOptions.title,140-b)+" "+a},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},
a.prototype.getChannelByKeyword=function(a){var b=n.RAW_CHANNEL_PREFIX+a,c=n.DEFAULT_CSA_REF_ID,e=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo/ig);if(e&&e.length)return{channel:this.getChannelByRegex(e[0].toLowerCase()),refId:this.getRefByRegex(e[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;
case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){return this.sheetOptions.title+" "+(this.sheetOptions.tinyUrl||this.shareUrl.return)},enumerable:!1,
configurable:!0}),a}();a.default=e}])});"use strict";p.register("SocialShareWidgetConfig",function(){var e=Object.freeze({MODAL:"modal",POPOVER:"popover"}),a=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:e,WIDGET_ICON:a,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:"Amazon.com",text:"",image:"",hashtags:["Amazon"],type:e.POPOVER,lang:"en",
refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48},defaultWidgetData:{icon:a.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:h.opts&&h.opts.customerId,marketplaceId:h.ue_mid},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",
android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"}}});"use strict";p.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(e,a,d,f){var c=a.SocialShareCore,b=c.Metrics,l=0,g=function(){},q=!1,n=b.getMetricName(e.$),u=e.constants.HIDE_CLASS;b.startTimer(n);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var a=
e.$,t=c.Detection,P=c.Translations,z=c.Channels,C=c.ShareSheet,F=c.Url,v=c.Constants,I=function(a){a=a.data("share")||a.find("[data-share]").data("share");return e.extend({},f.defaultWidgetData,a)},x=a(".ssf-share-trigger"),k=f.defaultShareData,A=I(x),L=k.url,Y=a("#ac-getlink-bottomsheet"),Z=a('[data-action\x3d"ssf-share-icon"]'),Q=function(){var a=f.iconMap;return A.icon===f.WIDGET_ICON.ARROW?a.arrow:t.isDesktop()?a.ios:A.icon===f.WIDGET_ICON.VARIABLE?t.isIOS()?a.ios:a.android:a[A.icon]},H=function(a){a.find('[class*\x3d"ssf-multi-"]').length||
a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));x=a.find('[class*\x3d"ssf-multi-"]')},G=void 0,r=void 0,D=void 0,E=void 0,T=void 0,U=void 0,y=void 0;p.when("a-sheet").execute(function(a){return G=a});p.when("a-popover").execute(function(a){return r=a});p.when("a-modal").execute(function(a){return D=a});p.when("SocialShareWidgetTiny").execute(function(a){return y=a});var V=function(a,b){var c=2<arguments.length&&arguments[2]!==m?arguments[2]:"ssf-share-bottom-sheet",
e=k.customize||k.caf;if(!E||e)E=G.create({name:c,inlineContent:a,closeType:"icon",height:b});G.showSheet(E)},R=function(a){var b=a.type===f.WIDGET_TYPE.POPOVER&&r,c=a.type===f.WIDGET_TYPE.MODAL&&D;a=d.build(a);G?V(a.getBottom()):b?(b=a.getPopover(),x.hasClass("a-declarative")||(T=r.create(x,{name:"ssf-share-popover",position:k.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=
a.getModal(),x.hasClass("a-declarative")||(U=D.create(x,{inlineContent:b,width:600}).show()))},K=function(a){if(a.customize||a.caf)b.logCounter("webview.sharesheet.caf.background"),b.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),p.when("mash").execute(function(a){a.addEventListener("appPause",J)})},ba=function(a){p.when("SocialShareWidgetCustomize").execute(function(b){var c=d.build(a);V(c.getCustomize(),650,"ssf-customize-bottom-sheet");b.init(a,R,J);K(a)})},
J=function aa(){p.when("mash").execute(function(a){a.removeEventListener("appPause",aa)});T&&r.get(x).hide();E&&G.hideSheet(E);U&&D.get(x).hide()},ca=function(){var a=k.shareDataAttributes.asin,b=h.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;k.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},S=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(u);a.find("i").hide()},N=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(u);
a.find("i").show()},W=function(c){var d=c.shareData,r=c.copyElement,g=d.shareDataAttributes,f=d.t,l=d.treatment;l=l===m?"":l;var k=d.weblab;k=k===m?"":k;c={channel:"copy",refMarker:d.shareUrl.refMarker.getClickForChannel(c.channelRef),shareDataAttributes:g,treatment:l,weblab:k};b.logCSAEvent(v.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter(n,"CopySuccess");b.logCounterRefactor("CopySuccess",g.ingress);t.isDesktop()?function(){var a=r.find(".copy-label");a.text(f.taf_copy_url_changeover);
e.delay(function(){J();a.text(f.taf_copy_name)},1E3)}():(a(".ssf-feedback").show(),J())},B=function(a){b.logCSAEvent(v.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");b.logCounter(n,"CopyFailure");b.logCounterRefactor("CopyFailure",k.shareDataAttributes.ingress)},O=function(a){var b=a.shareData,c=a.channelRef,e=b.shareUrl;a=b.socialLinks;a=a===m?{}:a;var d=b.isOGTEnabled;d=d===m?!1:d;c=c?e.getReturnForChannel(c):e.return;e=b.aapiBaseUrl;var r=b.shareAapiCsrfToken,g=b.tinyUrlEnabled,
f=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:g===m?!1:g,aapiBaseUrl:e===m?"":e,shareAapiCsrfToken:r===m?"":r,marketplaceId:f===m?"":f,url:c,isOGTEnabled:d,originalUrl:a.shareframework||b.url||c,refMarkerId:l++}};a(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(c){c.preventDefault();c.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");b.logCounterRefactor("ChannelClick",k.shareDataAttributes.ingress);var d=a(this),r=d.data("key"),
g=k;c=g.refererURL;var f=g.shareDataAttributes,l=g.treatment;l=l===m?"":l;var D=g.weblab;D=D===m?"":D;var K=g.builtChannels[r],q=K.ref;r=g.shareUrl.refMarker.getClickForChannel(q);g=K.name;var E=K.getSharingUrl();b.logCSAEvent(v.CSA_HIT_TYPE.SHARE,{channel:g,refMarker:r,refererURL:c,shareDataAttributes:f,treatment:l,weblab:D});c=O({shareData:k,channelRef:q});S(d);y.fetch({data:c,callback:function(a){N(d);a&&(E=K.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"),b.logCounterRefactor("Tiny.Success",
f.ingress));if("em"===q)h.open(E,"_self");else if(t.isDesktop()){a=screen.width;var c=screen.height,g="pi"===q?900:600,r=Math.min(g,.7*a);g=Math.min(g,.7*c);h.open(E,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+r+",height\x3d"+g+",top\x3d"+(c/2-g/2)+",left\x3d"+(a/2-r/2))}else h.open(E,"_blank");J();e.trigger("ssf:event:share",k)}})});e.declarative("ssf-share-icon","click",function(c){b.logCounter("DPX.Desktop.SheetClick");b.logCounter(n,"SheetClick");if(q)return J();H(c.$currentTarget);k=e.extend(k,
c.data);k.shareDataAttributes=e.extend(f.shareDataAttributes,c.data.shareDataAttributes);var d=k.shareDataAttributes.ingress;b.logCounterRefactor("SheetClick",d);if(!e.objectIsEmpty(c.data.associateLink)&&Y.length)b.logCounter("ShareIngress.GetLink.T1"),b.logCounterRefactor("ShareIngress.GetLink.T1",d),e.trigger("ac-getlink-bottomsheet-event",k);else{e.extend(P[k.lang],k.t);var g=z(k,k.channels);k.builtChannels=g;k.url=k.url.startsWith("/")?""+h.location.origin+k.url:k.url;k.shareUrl=new F(k.url,
k.refId);ca()&&(k.shareUrl=new F(k.url,k.refId),k.shareUrl.url.searchParams.set("psc",1));t.isDesktop()?(k.image=k.image||a("#imgTagWrapperId img").attr("src"),R(k),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter(n,"SheetOpen"),b.logCounterRefactor("SheetOpen",d),b.logCSAEvent(v.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:v.EMPTY_STRING,refMarker:k.shareUrl.refMarker.click,refererURL:k.refererURL,shareDataAttributes:k.shareDataAttributes,treatment:k.treatment||"",weblab:k.weblab||""})):k.customize||k.caf?
ba(k):(S(c.$currentTarget),g=O({shareData:k}),k=e.extend(k,{sheetShownCallback:function(){N(c.$currentTarget)}}),y.fetch({data:g,callback:function(a){k.tinyUrl=a;(new C(k)).launch(function(){R(k);b.logCounter("DPX.Desktop.SheetOpen");b.logCounter(n,"SheetOpen");b.logCounterRefactor("SheetOpen",d);N(c.$currentTarget)})}}));t.isSafari()&&t.isDesktop()&&(g=O({shareData:k,channelRef:v.CP_CHANNEL_REF}),y.fetch({data:g,callback:function(a){b.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");b.logCounter(n,"TinyUrlOnSheetOpen");
b.logCounterRefactor("TinyUrlOnSheetOpen",d);L=a}}));e.trigger("ssf:event:sheetOpen",k)}});a(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(c){b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");b.logCounterRefactor("ChannelClick",k.shareDataAttributes.ingress);c.preventDefault();var d=a(this),g=v.CP_CHANNEL_REF,r=k.shareUrl.getReturnForChannel(g);t.isSafari()&&t.isDesktop()?navigator.clipboard.writeText(L||r).then(function(){W({shareData:k,copyElement:d,channelRef:g})},
function(){B(csaOptions)}):(c=O({shareData:k,channelRef:v.CP_CHANNEL_REF}),S(d),y.fetch({data:c,callback:function(a){N(d);navigator.clipboard.writeText(a||r).then(function(){W({shareData:k,copyElement:d,channelRef:g})},function(){B(csaOptions)})}}));e.trigger("ssf:event:share",k)});a(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(c){c.preventDefault();var d=k;c=d.shareDataAttributes;var g=d.treatment;g=g===m?"":g;var e=d.weblab;e=e===m?"":e;d={channel:"embed",refMarker:d.shareUrl.refMarker.getClickForChannel(v.EMBED_CHANNEL_REF),
shareDataAttributes:c,treatment:g,weblab:e};b.logCSAEvent(v.CSA_HIT_TYPE.SHARE,d);b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");b.logCounterRefactor("ChannelClick",c.ingress);D.create(a(".ssf-channel.embed"),k.kpModalParams).show()});g=function(){x=a(".ssf-share-trigger");A=I(x);var b=A.width;if(!a(".ssf-background").length&&A.background){var c=1.4*b;c=a('\x3cdiv class\x3d"ssf-background'+(A.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});x.wrap(c)}A.icon&&
x.css({height:b,width:b,backgroundImage:"url("+Q()+")"})};t.isIE()&&a(".ssf-share-trigger,.ssf-background").remove();e.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-k.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});e.on("ssf:event:trigger-share-widget",function(a){e.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==m?arguments[1]:m)||Z})});e.on("a:popover:show:ssf-share-popover",
function(){return q=!0});e.on("a:popover:hide:ssf-share-popover",function(){return q=!1});e.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(b){b.sheet.$container.css("height","");p.when("a-switch").execute(function(b){k.caf&&b.getSwitch(a(".ssf-caf-toggle")).isOn(!!k.cafSwitch)})});g()})()}catch(w){b.logCounter("DPX.Desktop.Error"),b.logCounter(n,"Error"),b.logLoad("Error"),b.logFatal("Error loading Share Framework AUI: "+w.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(n,
"Render"),b.logLoad("Render"),e.trigger("ssf:event:load"),b.stopTimer(n)}return{init:g}});"use strict";var M=function(){return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var d=[],f=!0,c=!1,b=m;try{for(var l=e[Symbol.iterator](),g;!(f=(g=l.next()).done)&&(d.push(g.value),!a||d.length!==a);f=!0);}catch(q){c=!0,b=q}finally{try{if(!f&&l["return"])l["return"]()}finally{if(c)throw b;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();
p.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(e,a,d){d=d.SocialShareCore;var f=e.$,c=d.Detection.isClipboardAvailable,b=d.Detection.isDesktop,l=a.excludedChannels;c()||l.push("copy");var g=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(d){var e=d.shareUrl,h=d.socialLinks,w=h===m?{}:h;h=d.shareDataAttributes;var t=d.builtChannels,q=d.kpModalParams,z=d.t;w.email=
d.mailToUri;var C='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+z.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!b()&&c()&&1>f(".ssf-feedback").length&&f(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+
z.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var F=function(a){return{title:z["taf_"+a.name+"_tooltip"]||a.label,label:z["taf_"+a.name+"_name"]||a.label}};a.lineMarketplaces.includes(h.marketplaceId)||w.li?l.push("pi"):l.push("li");q||l.push("embed");a.cnMarketplace.includes(h.marketplaceId)&&l.push.apply(l,B(a.nonCNChannels));return{getModal:function(){var a="",b=!0,d=!1,f=m;try{for(var h=Object.entries(t)[Symbol.iterator](),n;!(b=(n=h.next()).done);b=
!0){var q=M(n.value,2),p=q[0],u=q[1];if(!l.includes(p)&&"copy"!==p){var H=F(u),G=w[u.name]||u.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+G+'" title\x3d"'+H.title+'" data-key\x3d"'+p+'"\x3e\n                '+g("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+H.label+'" style\x3d"background-image: url('+u.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+H.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(r){d=
!0,f=r}finally{try{!b&&h.return&&h.return()}finally{if(d)throw f;}}b=c()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+e.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+C+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+z.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+a+"\x3c/div\x3e")+b},getPopover:function(){var a=
"",b=!0,c=!1,d=m;try{for(var e=Object.entries(t)[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=M(f.value,2),n=h[0],q=h[1];if(!l.includes(n)){var p=F(q),u=w[q.name]||q.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+n+' a-color-base" href\x3d"'+u+'" title\x3d"'+p.title+'" data-key\x3d"'+n+'"\x3e\n                '+g("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+p.label+'" style\x3d"background-image: url('+q.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+
n+'-label"\x3e'+p.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(r){c=!0,d=r}finally{try{!b&&e.return&&e.return()}finally{if(c)throw d;}}return""+a},getBottom:function(){var a="",b=!0,c=!1,d=m;try{for(var e=Object.entries(t)[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=M(f.value,2),n=h[0],q=h[1];if(!l.includes(n)){var p=F(q),u=w[q.name]||q.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+
n+' a-color-base" href\x3d"'+u+'" title\x3d"'+p.title+'" data-key\x3d"'+n+'"\x3e\n                '+g("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+p.label+'" style\x3d"background-image: url('+q.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+p.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(r){c=!0,d=r}finally{try{!b&&e.return&&e.return()}finally{if(c)throw d;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+
z.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;p.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=d.customize?b.getCustomizeBox(z):""});var b='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+z.taf_share_bottom_sheet_title+"\x3c/h3\x3e",c='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+
b+"\x3c/div\x3e",e='\x3cdiv class\x3d"a-padding-base a-box ssf-cus-img ssf-no-border" style\x3d"background-image: url('+d.image+')"\x3e'+g("medium")+"\x3c/div\x3e",f=d.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(d.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+z.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",l='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+d.shareLabel+"\n              "+g("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+b+e+f+a+l+"\x3c/div\x3e"+(d.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+c+e+f+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+l+"\x3c/div\x3e":"")}}}}});"use strict";p.when("jQuery","SocialShareWidget").register("SocialShareWidgetTiny",function(e,a){var d=a.SocialShareCore.Metrics;return{fetch:function(a){var c=a.data,b=a.callback;a=h.location.protocol+
"//";var f="application/json;charset\x3dUTF-8",g="/conversations/sharetinyurl",m={},n={},p=JSON.stringify(c);c.isOGTEnabled&&(f=new URL(c.url),f.searchParams.append("newOGT","1"),c.url=f.toString());if(c.tinyUrlEnabled)if(c.aapiBaseUrl&&c.shareAapiCsrfToken&&c.marketplaceId)g=""+a+c.aapiBaseUrl+"/api/marketplaces/"+c.marketplaceId+"/social-share/tinyurl",p={longUrl:c.url},0<c.refMarkerId&&c.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(p={longUrl:c.url+"_"+c.refMarkerId}),f="application/x-www-form-urlencoded",
m={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":c.shareAapiCsrfToken,"Content-Type":f},n={withCredentials:!0},d.startTimer("Tiny"),e.ajax(g,{type:"POST",headers:m,xhrFields:n,contentType:f,data:p,success:function(a){d.logCounter("Desktop.Tiny.Response");d.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?b(a.entity.shortUrl.url):b(c.url);d.stopTimer("Tiny")},error:function(){d.logCounter("Desktop.Tiny.Error");
d.logCounterRefactor("Tiny.Error");d.stopTimer("Tiny");b(c.url)}});else return d.logCounter("Tiny.Unavailable"),d.logCounterRefactor("Tiny.Unavailable"),b(c.url);else return b(c.url)}}});"use strict";p.when("A","SocialShareWidget").register("SocialShareWidgetCustomize",function(e,a){a=a.SocialShareCore;var d=e.$,f=a.ShareSheet,c=a.Url,b=a.Metrics,l=a.Constants,g=b.getMetricName(d,l.customize),q=h.location.protocol+"//",n=e.constants.HIDE_CLASS;b.startTimer(g);var u=function(){},w=function(){},t={},
B=0;try{(function(){var a={clear:function(){this.values={}},isEmpty:function(){return d.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}},C=void 0,F=void 0;p.when("a-button").execute(function(a){return C=a});p.when("SocialShareWidgetTiny").execute(function(a){return F=a});e.on("a:sheet:afterHide:ssf-customize-bottom-sheet",function(b){b.sheet.getContentContainer().remove();
a.clear();e.off("a:switch:caf:off");e.off("a:switch:caf:on")});e.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){if(!t.caf){var a=Math.round(h.innerHeight*(700>h.innerHeight?.2:.25));d(".ssf-cus-img").css({height:a})}});w=function(a){var b=a.productImage;a=a.rating;var c=b.match(/([\w\d_+-]*)\.?[^\\\/]*$/i),d=c[1],e=b.match(/\.[0-9a-z]+$/i)[0];return""+b.replace(c[0],"")+d+"._SR450,315_AC_SR450,180,0,C_SR450,250,0,T_PIStarRating"+a+",TopLeft,290,205"+e};var v=function(a){d(".ssf-cus-img").css("background-image",
'url("'+a+'")')},I=function(b){var c=b.productImage;b.cafSwitch||(b=new Image,b.src=c,b.onload=function(){a.productImageProperties.width=this.width;a.productImageProperties.height=this.height})},x=function(){d(".ssf-cus-img").find(".a-spinner").removeClass(n)},k=function(){d(".ssf-cus-img").find(".a-spinner").addClass(n)},A=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.socialLinks;a=a===m?{}:a;var e=b.isOGTEnabled;e=e===m?!1:e;c=c?d.getReturnForChannel(c):d.return;d=b.aapiBaseUrl;
var g=b.shareAapiCsrfToken,f=b.tinyUrlEnabled,h=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:f===m?!1:f,aapiBaseUrl:d===m?"":d,shareAapiCsrfToken:g===m?"":g,marketplaceId:h===m?"":h,url:c,isOGTEnabled:e,originalUrl:a.shareframework||b.url||c,refMarkerId:B++}},L=function(a,h,l,k,m,p,q){d(".ssf-customize-share-btn").find(".a-spinner").addClass(n);C(".ssf-customize-share-btn").enable();h();var r=!1;k&&(h=new URL(p),h.searchParams.append("cafId",k),h.searchParams.append("cafASIN",m),l.shareUrl=
new c(h.toString(),l.refId),m!==l.shareDataAttributes.asin&&b.logCounter(g,"CAF.ShareASINMismatch"),r=!0);m=A({shareData:l});F.fetch({data:m,callback:function(c){l.tinyUrl=c;q&&q();c=e.extend({channelSelectCB:function(){k&&e.trigger("ssf:event:caf-share-complete-success",l)},cafSwitchEnabled:r},l);(new f(c)).launch(function(){e.delay(function(b){a(l)},100);k?(b.logCounter(g,"CAF.ShareSheetOpen"),b.logCounterRefactor("CAF.ShareSheetOpen",l.shareDataAttributes.ingress)):(b.logCounter(g,"ShareSheetOpen"),
b.logCounterRefactor("ShareSheetOpen",l.shareDataAttributes.ingress))})}})},P=function(a,c){var e=a.cafAapiCsrfToken,f=a.shareDataAttributes,h=f.asin,r=f.ingress;f=""+q+a.aapiBaseUrl+"/custom/consultafriendcontracts/marketplaces/"+f.marketplaceId+"/consultafriend/feedback-request/"+h;b.logCounter(g,"CAF.createCAFID.called");b.logCounterRefactor("CAF.createCAFID.called",r);d.ajax({url:f,type:"POST",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"',
"x-api-csrf-token":e,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(b){c(b.entity&&b.entity.cafId,h,a.url)},error:function(a){b.logCounter(g,"CAF.createCAFID.failed");b.logCounterRefactor("CAF.createCAFID.failed",r);p.log("Error Creating CAF Id. Error Code: "+a.status+". Error Response: "+a.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);c()}})},M=function(a,c){var e=a.locale,f=a.shareDataAttributes,h=f.ingress;d.ajax({url:""+q+a.aapiBaseUrl+
"/custom/socialshareapicontracts/marketplaces/"+f.marketplaceId+"/products/"+f.asin+"/shareframework/productshareableattributes?locale\x3d"+e+"\x26type\x3d"+a.productType,type:"GET",headers:{"Accept-Language":e,Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',"x-api-csrf-token":a.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){b.logCounter(g,
"FetchTabsSuccess");b.logCounterRefactor("FetchTabsSuccess",h);c(Q(a))},error:function(){b.logCounter(g,"FetchTabsFail");b.logCounterRefactor("FetchTabsFail",h);c([])}})},Q=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]},H=function(a,c,e){var f=a.shareDataAttributes,h=f.ingress;d.ajax({url:""+q+a.aapiBaseUrl+"/custom/socialshareapicontracts/marketplaces/"+
f.marketplaceId+"/products/"+f.asin+"/shareframework/generatecustomizedimage",type:"POST",data:c,headers:{"Accept-Language":a.locale,Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',"x-api-csrf-token":a.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){b.logCounter(g,"generateCustomizeImageSuccess");b.logCounterRefactor("generateCustomizeImageSuccess",
h);e(a)},error:function(a){b.logCounter(g,"generateCustomizeImageFail");b.logCounterRefactor("generateCustomizeImageFail",h);e(a)}})},G=function(c,e){var f=c.shareAapiCsrfToken,h=c.aapiBaseUrl,l=c.locale,n=c.shareDataAttributes;c=n.marketplaceId;var k=n.asin,m=n.ingress;if(a.isEmpty())return e({});n=encodeURIComponent(a.currentImage);d.ajax({url:""+q+h+"/custom/socialshareapicontracts/marketplaces/"+c+"/products/"+k+"/shareframework/externalizecustomizedimage?customizedImageUrl\x3d"+n,type:"PUT",
headers:{"Accept-Language":l,Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',"x-api-csrf-token":f,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){e(a)},error:function(){b.logCounter(g,"externalizeImageFail");b.logCounterRefactor("externalizeImageFail",m);e({})}})};u=function(f,h,q){t={productImage:f.productImage||f.image,rating:f.starRating,caf:f.caf,
cafSwitch:f.cafSwitch,text:f.t.taf_custshare_caf_recipientemoji};var u=function(){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab;b=b.BookQuotesTab;var e=a.productImageProperties,g=e.width;e=e.height;return{productImageUrl:f.productImage,starRating:f.starRating||"",numberOfReviews:f.numberOfReviews||"",backgroundImagePhysicalId:(c===m?{}:c).physicalId||"",deviceCoverImagePhysicalId:(d===m?{}:d).physicalId||"",bookQuote:(b===m?{}:b).value||"",productImageWidth:g===m?"":g,productImageHeight:e===
m?"":e}},r=function(){var b=a.values,c=b.BackgroundImageTab;c=c===m?{}:c;var d=b.DeviceCoverImageTab;d=d===m?{}:d;b=b.BookQuotesTab;b=(b===m?{}:b).value||"";return{backgroundImagePhysicalId:c.physicalId||"",deviceCoverImagePhysicalId:d.physicalId||"",hasQuote:0<b?l.TRUE:l.FALSE,isCustomizedExperienceEnabled:f.customize?l.TRUE:l.FALSE,isCustomized:c.physicalId||d.physicalId||b?l.TRUE:l.FALSE}},y=f.shareDataAttributes.ingress;a.currentImage=w(t);v(w(t));I(t);d(".ssf-customize-share-btn").click(function(){C(".ssf-customize-share-btn").isEnabled()&&
(d(".ssf-customize-share-btn").find(".a-spinner").removeClass(n),C(".ssf-customize-share-btn").disable(),t.cafSwitch?(b.logCounter(g,"CAF.shareClick"),b.logCounterRefactor("CAF.shareClick",y),b.startTimer("CAF.fetchCAFAndTinyURL"),f.title=(f.t["taf-share-caf-messageprefix"]||"")+" "+f.title,P(f,function(a,c,d){L(h,q,f,a,c,d,function(){b.stopTimer("CAF.fetchCAFAndTinyURL")})})):function(){var a=r();b.logCounter(g,"shareClick");b.logCounterRefactor("shareClick",y);"true"===a.isCustomized&&(b.logCounter(g,
"shareClickCustomized"),b.logCounterRefactor("shareClickCustomized",y));G(f,function(d){if((d=d.entity)&&d.physicalId){b.logCounter(g,"externalizeImageSuccess");b.logCounterRefactor("externalizeImageSuccess",y);var n=new URL(f.url);n.searchParams.append("cspi",d.physicalId);f.shareUrl=new c(n.toString(),f.refId,f.customize?"T3":m)}var k=f;d=k.shareDataAttributes;n=k.treatment;n=n===m?"":n;k=k.weblab;k=k===m?"":k;f=e.extend({customizeShareCSAData:a},f);b.logCSAEvent(l.CSA_HIT_TYPE.CUSTOMIZE_SHARE,
{channel:l.EMPTY_STRING,refMarker:f.shareUrl.refMarker.click,shareDataAttributes:d,treatment:n,weblab:k,customizeShareCSAData:a});L(h,q,f)})}())});e.on("a:switch:caf:on",function(){t.cafSwitch=!0;b.logCounter(g,"CAF.switchOn");b.logCounterRefactor("CAF.switchOn",y);d(".ssf-caf-image").fadeIn(100);d(".ssf-caf-regular-image").hide()});e.on("a:switch:caf:off",function(){t.cafSwitch=!1;b.logCounter(g,"CAF.switchOff");b.logCounterRefactor("CAF.switchOff",y);d(".ssf-caf-regular-image").fadeIn(100);d(".ssf-caf-image").hide()});
d("#ssf-customize-share").click(function(){var a=this;C(this).isEnabled()&&(b.logCounter(g,"CustomizeButtonClick"),b.logCounterRefactor("CustomizeButtonClick",y),C(this).disable(),M(f,function(b){p.now("SocialShareWidgetCustomizeTemplate").execute(function(c){d(".ssf-tabs").html(c.getTabs(f,b));C(a).enable();b.forEach(function(a){var b="input[type\x3dradio][name\x3d"+a.id+"]";d(b).change(function(a){a=JSON.parse(a.target.value);z(a);d(b).unbind("click");d(this).one("click",function(a){a=a.target;
a.checked=!1;a=JSON.parse(a.value);A(a)})})})});d(".ssf-customize-container-one").addClass(n);d(".ssf-customize-container-two").removeClass(n).addClass("ssf-customize-transition")}))});var z=function(c){v();x();a.set(c);var e=u();b.logCounter(g,c.id+"Select");b.logCounterRefactor(c.id+"Select",y);H(f,e,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,I(b),v(b),k(),d(".ssf-cus-img").removeClass("a-box"))})},A=function(c){v();x();b.logCounter(g,c.id+"Unselect");
b.logCounterRefactor(c.id+"Unselect",y);a.unset(c);a.isEmpty()?(c=w(t),a.currentImage=c,v(c),k(),d(".ssf-cus-img").addClass("a-box")):(c=u(),H(f,c,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,I(b),v(b),k())}))};d(".ssf-back-btn").click(function(){b.logCounter(g,"BackButtonClick");b.logCounterRefactor("BackButtonClick",y);d(".ssf-customize-container-two").addClass(n);d(".ssf-customize-container-one").removeClass(n).addClass("ssf-customize-transition-back");
a.clear();v(w(t))});p.when("a-switch").execute(function(a){d(".ssf-caf-toggle-label").click(function(){a.getSwitch(d(".ssf-caf-toggle")).toggle()})})}})()}catch(z){b.logCounter(g,"Error"),b.logLoad("Error"),b.logFatal("Error loading Customize widget, Share Framework AUI: "+z.toString())}finally{b.logCounter(g,"Render"),b.logLoad("Render"),b.stopTimer(g)}return{init:u,getImage:w}});"use strict";p.when("A").register("SocialShareWidgetCustomizeTemplate",function(e){var a=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+
a.values.map(function(b,c){var d=e.extend(b,{id:a.id}),f={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(f=e.extend(f,{center:!0,width:150,content:d.displayText,background:m}));d=f.id;c=f.position;b=f.content;b=b===m?"":b;var g=f.width,h=g===m?100:g,l=f.background;g=f.center;g=g===m?!1:g;f=f.val;h='style\x3d"width: '+h+"px;background-image: url("+(l===m?"":l)+");background-size: "+h+"px "+h+'px;"';l=JSON.stringify(f);c=d+c;f=f.label||"";var p='\x3cspan class\x3d"aok-offscreen"\x3e'+f+"\x3c/span\x3e";
g&&(p='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+f+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+l+"' aria-label\x3d'"+f+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+h+"\x3e"+p+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},d=function(a){var b=2<arguments.length&&arguments[2]!==m?arguments[2]:
!1;return'\x3cli class\x3d"a-tab-heading '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==m?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},f=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==m&&arguments[3]?
"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+(2<arguments.length&&arguments[2]!==m?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==m?arguments[1]:"")+"\n            \x3c/div\x3e"},c=function(){return(0<arguments.length&&arguments[0]!==m?arguments[0]:[]).map(function(a){a=a.replace(/"||/g,"");return{displayText:""+a+"",value:a}})};return{getTabs:function(b,e){var g=b.popularHighlightStrings;
if(!e.length)return"";var h="",l="",m=-1;e.forEach(function(b,e){b.isQuote&&(b.values=c(g));if(!b.values.length)return"";-1===m&&(m=e);e=e===m;h+=d(b.id,b.heading,e);l+=f(b.id,a(b),b.text,e)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+h+"\x3c/ul\x3e"+l)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+
('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},
getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'}});"use strict";p.when("A").register("SocialShareWidgetCAFTemplate",function(e){var a=e.capabilities.rtl,d=
function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},f=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/span\x3e"},c=function(){return'\x3cp class\x3d"a-size-small ssf-caf-text"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/p\x3e"};return{cafToggle:'\x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n    \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n    \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n      \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n        \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/label\x3e\n  \x3c/div\x3e',
getCAFImageSection:function(b){var e=b.starRating,g=b.numberOfReviews,h=a?"r":"",n='\x3cdiv class\x3d"ssf-caf-p-image ssf-regular"\x3e'+d(b.productImage,"ssf-regular")+"\x3c/div\x3e";e=e?d(""+e+h+".png","ssf-caf-stars"):"";g=f(g);n='\x3cdiv class\x3d"a-box" role\x3d"img"\x3e'+('\x3cdiv class\x3d"ssf-caf-regular-image"\x3e'+n+('\x3cdiv class\x3d"ssf-caf-stickers ssf-regular"\x3e'+e+g+"\x3c/div\x3e")+"\x3c/div\x3e");g=b.starRating;var p=g===m?"ZERO":g;h=b.t;g=b.numberOfReviews;var w=a?"r":"";b='\x3cdiv class\x3d"ssf-caf-p-image"\x3e'+
d(b.productImage)+"\x3c/div\x3e";e=d("caf-emojis"+w+".png","ssf-caf-emojis");p=d(""+p+w+".png","ssf-caf-stars");h=c(h.taf_custshare_caf_recipientemoji);g=f(g);return n+('\x3cdiv class\x3d"ssf-caf-image"\x3e'+b+('\x3cdiv class\x3d"ssf-caf-stickers"\x3e'+p+g+h+e+"\x3c/div\x3e")+"\x3c/div\x3e")+"\x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-large a-spacing-large"\x3e\n      \x3cdiv class\x3d"a-column a-span9"\x3e\n        \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+'\x3c/strong\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n    \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n    \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n      \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n        \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/label\x3e\n  \x3c/div\x3e\x3c/div\x3e\n    \x3c/div\x3e'}}})});
/* ******** */
